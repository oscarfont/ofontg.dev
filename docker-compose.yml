version: "3"

services:
  personalweb:
    image: ofontgg/personalweb:latest
    expose:
      - "4200"
    ports:
     - "80:4200"
     - "443:4200"
    restart: always
    volumes:
      - ./certbot/www:/var/www/certbot/:ro
    certbot:
      image: certbot/certbot:latest
      volumes:
        - ./certbot/www/:/var/www/certbot/:rw
        - ./certbot/conf/:/etc/letsencrypt/:rw
    depends_on:
      - personalweb-backend
  
  personalweb-backend:
    image: ofontgg/personalweb-backend:latest
    expose:
      - "3000"
    